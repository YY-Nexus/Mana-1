# 项目依赖检查工具

这个工具用于扫描项目中的所有文件，检查导入语句，并验证这些导入的模块是否存在。这有助于防止运行时出现"模块未找到"的错误。

## 功能

- 扫描项目中的所有TypeScript和JavaScript文件
- 检查导入语句（import, require, 动态导入）
- 验证导入的模块是否存在
- 提供修复建议
- 可视化界面展示检查结果
- 构建前自动检查依赖

## 使用方法

### 命令行使用

\`\`\`bash
# 运行依赖检查
npm run check-deps

# 或者使用yarn
yarn check-deps
\`\`\`

### 构建前检查

依赖检查已集成到构建流程中，每次构建前会自动运行依赖检查：

\`\`\`bash
npm run build
\`\`\`

如果检查到有无法解析的导入，会询问是否继续构建。

### 可视化界面

访问 `/tools/dependency-checker` 路径可以使用可视化界面查看依赖检查结果。

## 配置

依赖检查工具的配置在 `tools/dependency-checker/core.ts` 文件中，可以根据需要进行修改：

- 忽略的文件夹
- 扫描的文件类型
- 已知缺失的模块列表

## 常见问题

### 1. 为什么会有无法解析的导入？

无法解析的导入可能有以下原因：

- 模块不存在
- 路径错误
- 拼写错误
- 缺少依赖

### 2. 如何修复无法解析的导入？

根据导入路径的不同，修复方法也不同：

- 对于 `@/` 开头的导入：检查项目中是否存在该文件，确保 tsconfig.json 中正确配置了路径别名
- 对于 `./` 或 `../` 开头的导入：检查相对路径是否正确，确保目标文件存在
- 对于其他导入：检查 package.json 中是否包含此依赖，如果没有，运行 `npm install <package>` 安装依赖

### 3. 为什么有些模块明明存在但报告为无法解析？

可能的原因：

- 模块存在但扩展名不同（例如，导入 `.js` 但实际文件是 `.ts`）
- 模块是动态生成的
- 模块是通过别名导入的，但别名配置不正确

在这种情况下，可以在 `tools/dependency-checker/core.ts` 文件中的 `knownMissingModules` 数组中添加这些模块，使工具忽略它们。
